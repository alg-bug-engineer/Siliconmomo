# 🚀 自动发布功能 - 快速开始

## 30秒快速上手

```bash
# 1. 启动 Chrome（开启远程调试）
/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222

# 2. 在 Chrome 中登录小红书创作者中心
# 访问: https://creator.xiaohongshu.com

# 3. 运行草稿发布器
cd /Users/zhangqilai/project/vibe-code-100-projects/guiji/SiliconMomo
python tests/publish_draft.py

# 4. 查看和切换模式
Momo> auto                    # 查看当前模式
Momo> auto on                 # 切换到自动发布

# 5. 发布草稿
Momo> publish 1               # 发布第1个草稿
```

## 模式对比

| 模式 | 发布按钮 | 确认弹窗 | 等待时间 | 适用场景 |
|------|---------|---------|---------|---------|
| **自动** | ✅ 自动点击 | ✅ 自动处理 | ~15秒 | 批量发布、测试 |
| **手动** | ❌ 手动点击 | ❌ 手动处理 | 60秒 | 重要内容、首次使用 |

## 命令速查

```bash
# 模式管理
auto               # 查看当前模式
auto on            # 开启自动发布
auto off           # 关闭自动发布

# 草稿管理
list ready         # 查看待发布草稿
preview 1          # 预览草稿内容
clean 1            # 预览清洗效果
publish 1          # 发布草稿
mark 1             # 标记为已发布

# 其他
help               # 显示帮助
quit               # 退出程序
```

## 使用建议

### 🎯 首次使用

```bash
# 1. 先用手动模式测试
Momo> auto off
Momo> publish 1

# 2. 确认一切正常后，切换到自动模式
Momo> auto on
Momo> publish 2
```

### ⚡ 批量发布

```bash
# 1. 开启自动发布
Momo> auto on

# 2. 依次发布多个草稿
Momo> publish 1
Momo> publish 2
Momo> publish 3
```

### 🔍 发布前检查

```bash
# 1. 预览内容
Momo> preview 1

# 2. 预览清洗效果
Momo> clean 1

# 3. 确认无误后发布
Momo> publish 1
```

## 输出示例

### 自动发布模式

```
================================================================================
🚀 开始发布: 《5款AI摘要神器⚡效率翻倍！打工人必看！》
📌 模式: 自动发布
================================================================================

✅ 浏览器连接成功
✅ 登录状态检查完成
🧹 清洗内容，去除 Markdown 格式...
   内容已清洗 (去除 ** 等格式符号)

导航到创作者中心...
点击发布笔记按钮...
...
内容填写完成

============================================================
🚀 准备自动点击发布按钮...
============================================================
🔍 查找发布按钮...
  尝试选择器: button.publish-btn
  ✅ 成功点击发布按钮 (选择器: button.publish-btn)
✅ 发布按钮已点击！
⏳ 等待发布完成...
🔍 检查确认弹窗...
  ℹ️  未发现确认弹窗
⏳ 等待发布成功提示...
  ✅ 检测到页面跳转，可能已发布成功

============================================================
🎉 发布流程完成!
============================================================

✅ 已标记草稿为已发布: 《5款AI摘要神器⚡效率翻倍！打工人必看！》
```

### 手动发布模式

```
================================================================================
🚀 开始发布: 《5款AI摘要神器⚡效率翻倍！打工人必看！》
📌 模式: 手动发布
================================================================================

✅ 浏览器连接成功
✅ 登录状态检查完成
...
内容填写完成

请手动检查内容并点击发布按钮完成发布...
```

## 常见问题

**Q: 如何确认已切换到自动发布？**

A: 输入 `auto` 命令查看：
```
Momo> auto

当前模式: ✅ 自动发布 (自动点击发布按钮)
```

**Q: 自动发布会立即点击吗？**

A: 不会，会先填充内容，然后等待5秒再点击发布按钮，给你检查的时间。

**Q: 如果自动发布失败怎么办？**

A: 程序会自动切换到手动模式，等待30秒供你手动操作。

**Q: 可以中途取消发布吗？**

A: 可以，确认发布时会提示：
```
即将发布: 《标题》
确认发布? (y/n): n
❌ 已取消发布
```

---

**版本：** v1.2.0
**更新日期：** 2025-01-15
