# ğŸ§¹ å†…å®¹æ¸…æ´—åŠŸèƒ½è¯´æ˜

## é—®é¢˜æè¿°

AI ç”Ÿæˆçš„å°çº¢ä¹¦å†…å®¹åŒ…å«å¤§é‡ Markdown æ ¼å¼ç¬¦å·ï¼ˆå¦‚ `**ç²—ä½“**`ï¼‰ï¼Œå‘å¸ƒåˆ°å°çº¢ä¹¦åå½±å“é˜…è¯»ä½“éªŒã€‚

**ç¤ºä¾‹é—®é¢˜ï¼š**
```
åŸå§‹å†…å®¹ï¼š**5æ¬¾AIæ‘˜è¦ç¥å™¨**âš¡æ•ˆç‡ç¿»å€ï¼

å‘å¸ƒåæ˜¾ç¤ºï¼š**5æ¬¾AIæ‘˜è¦ç¥å™¨**âš¡æ•ˆç‡ç¿»å€ï¼
            ^^ è¿™äº›ç¬¦å·ä¸åº”è¯¥å‡ºç°
```

## è§£å†³æ–¹æ¡ˆ

### æ–°å¢å†…å®¹æ¸…æ´—å™¨

**æ–‡ä»¶ï¼š** `core/content_cleaner.py`

è‡ªåŠ¨å»é™¤ Markdown æ ¼å¼ç¬¦å·ï¼Œè½¬æ¢ä¸ºå°çº¢ä¹¦å‹å¥½çš„çº¯æ–‡æœ¬æ ¼å¼ã€‚

### æ¸…æ´—è§„åˆ™

| è§„åˆ™ | ç¤ºä¾‹ | ç»“æœ |
|------|------|------|
| ç²—ä½“ç¬¦å· | `**AIå·¥å…·æ¨è**` | `AIå·¥å…·æ¨è` |
| æ ‡é¢˜ç¬¦å· | `# æ ‡é¢˜` | `æ ‡é¢˜` |
| åˆ—è¡¨ç¬¦å· | `- ç¬¬ä¸€é¡¹` | `ç¬¬ä¸€é¡¹` |
| ä»£ç å— | `` `ä»£ç ` `` | `ä»£ç ` |
| é“¾æ¥æ ¼å¼ | `[æ–‡å­—](é“¾æ¥)` | `æ–‡å­—` |

### ä¿ç•™å†…å®¹

- âœ… æ‰€æœ‰è¡¨æƒ…ç¬¦å·ï¼ˆğŸ‰ ğŸš€ ğŸ’¡ ç­‰ï¼‰
- âœ… æ ‡ç­¾æ ¼å¼ï¼ˆ#æ ‡ç­¾ï¼‰
- âœ… æ®µè½ç»“æ„
- âœ… æ¢è¡Œæ ¼å¼

## ä½¿ç”¨æ–¹æ³•

### æ–¹å¼1ï¼šè‡ªåŠ¨æ¸…æ´—ï¼ˆæ¨èï¼‰

å‘å¸ƒæ—¶è‡ªåŠ¨æ¸…æ´—ï¼Œæ— éœ€é¢å¤–æ“ä½œï¼š

```bash
python tests/publish_draft.py
Momo> publish 1
# ğŸ§¹ å†…å®¹ä¼šè‡ªåŠ¨æ¸…æ´—åå‘å¸ƒ
```

### æ–¹å¼2ï¼šé¢„è§ˆæ¸…æ´—æ•ˆæœ

```bash
python tests/publish_draft.py
Momo> clean 1
# æŸ¥çœ‹æ¸…æ´—å‰åå¯¹æ¯”
```

### æ–¹å¼3ï¼šç¼–ç¨‹è°ƒç”¨

```python
from core.content_cleaner import ContentCleaner

# æ¸…æ´—å†…å®¹
cleaned = ContentCleaner.clean_for_xiaohongshu("**ç²—ä½“** #æ ‡ç­¾")
# ç»“æœ: ç²—ä½“ #æ ‡ç­¾

# æå–æ ‡ç­¾
tags = ContentCleaner.extract_tags("å†…å®¹ #AIå·¥å…· #æ•ˆç‡")
# ç»“æœ: ['#AIå·¥å…·', '#æ•ˆç‡']
```

## æµ‹è¯•éªŒè¯

è¿è¡Œæµ‹è¯•è„šæœ¬éªŒè¯åŠŸèƒ½ï¼š

```bash
python tests/test_content_cleaner.py
```

**æµ‹è¯•ç»“æœï¼š**
- âœ… ç²—ä½“ç¬¦å·æ¸…æ´—
- âœ… æ ‡é¢˜ç¬¦å·æ¸…æ´—
- âœ… åˆ—è¡¨ç¬¦å·æ¸…æ´—
- âœ… æ··åˆæ ¼å¼æ¸…æ´—
- âœ… çœŸå®è‰ç¨¿æµ‹è¯•

## æ›´æ–°çš„æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `core/content_cleaner.py` | å†…å®¹æ¸…æ´—å™¨æ ¸å¿ƒæ¨¡å— |
| `actions/publisher.py` | é›†æˆæ¸…æ´—åŠŸèƒ½ |
| `core/publisher.py` | é›†æˆæ¸…æ´—åŠŸèƒ½ |
| `tests/publish_draft.py` | æ·»åŠ æ¸…æ´—é¢„è§ˆå‘½ä»¤ |
| `tests/test_content_cleaner.py` | æµ‹è¯•è„šæœ¬ |

## æ–°å¢å‘½ä»¤

åœ¨è‰ç¨¿å‘å¸ƒå™¨ä¸­æ–°å¢ï¼š

```bash
clean <ç¼–å·>    # é¢„è§ˆå†…å®¹æ¸…æ´—æ•ˆæœ
preview <ç¼–å·>  # é¢„è§ˆè‰ç¨¿ï¼ˆå«æ¸…æ´—å¯¹æ¯”ï¼‰
```

## ç¤ºä¾‹å¯¹æ¯”

### åŸå§‹å†…å®¹
```markdown
# AIå·¥å…·æ¨è

**5æ¬¾AIæ‘˜è¦ç¥å™¨**âš¡æ•ˆç‡ç¿»å€ï¼

è¿˜åœ¨ä¸ºé•¿æ–‡å‘æ„å—ï¼ŸğŸ¤¯

1ï¸âƒ£ **Kimi Chat**ï¼š20ä¸‡å­—é•¿æ–‡ä¸€é”®æ€»ç»“ ğŸ“„
2ï¸âƒ£ **è±†åŒ…**ï¼šç½‘é¡µã€è§†é¢‘éƒ½æ‹¿ä¸‹ ğŸ¬
```

### æ¸…æ´—åå†…å®¹
```
AIå·¥å…·æ¨è

5æ¬¾AIæ‘˜è¦ç¥å™¨âš¡æ•ˆç‡ç¿»å€ï¼

è¿˜åœ¨ä¸ºé•¿æ–‡å‘æ„å—ï¼ŸğŸ¤¯

1ï¸âƒ£ Kimi Chatï¼š20ä¸‡å­—é•¿æ–‡ä¸€é”®æ€»ç»“ ğŸ“„
2ï¸âƒ£ è±†åŒ…ï¼šç½‘é¡µã€è§†é¢‘éƒ½æ‹¿ä¸‹ ğŸ¬
```

## é…ç½®

æ— éœ€é¢å¤–é…ç½®ï¼Œæ¸…æ´—åŠŸèƒ½é»˜è®¤å¯ç”¨ã€‚

å¦‚éœ€ç¦ç”¨ï¼Œå¯åœ¨å‘å¸ƒæ¨¡å—ä¸­æ³¨é‡Šï¼š
```python
# title = ContentCleaner.clean_for_xiaohongshu(title)
# content = ContentCleaner.clean_for_xiaohongshu(content)
```

---

**æ›´æ–°æ—¥æœŸï¼š** 2025-01-15
**ç‰ˆæœ¬ï¼š** v1.1.0
